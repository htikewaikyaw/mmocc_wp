(()=>{const e="#csf-modal-tablesome-shortcode",t=".csf-modal-table .csf-modal-content .csf-fields .tablesome__fields--table_id",n=".csf-modal-table .csf-modal-content .csf-fields .tablesome__fields--exclude_columns";class s{constructor(){return s.instance?s.instance:(s.instance=this,this)}getInstance(){return void 0===this.instance&&(this.instance=this),this.instance}init(){this.eventListeners()}eventListeners(){const n=this;jQuery(e).on("change",t,(function(){let e=jQuery(this).find(".csf-fieldset select[name*='table_id']").val();if(""==e)return alert(translation_strings.enter_table_id_alert),!1;n.sendRequest(e)}))}sendRequest(t){const s=this;jQuery.get(tablesome_ajax_object.ajax_url,{action:"get_table_columns",nonce:tablesome_ajax_object.nonce,table_id:t,dataType:"JSON"},(function(t){if("failed"==t.status)return alert("Please enter the valid tablesome table id"),!1;let a=t.data,i=s.getExcludeColumnOptionsHTML(a),l=jQuery(e).find(n+" .csf-fieldset select[name='_pseudo']");l.empty().append(i),l.trigger("chosen:updated")}))}getExcludeColumnOptionsHTML(e){return e.map((e=>"<option value="+e.id+">"+e.name+"</option>")).join("")}}jQuery(document).on("ready",(function(){(new s).init()}))})();